# Seedance 2.0 å…¨èƒ½å‚è€ƒåŠŸèƒ½ API æ–‡æ¡£

## æ¦‚è¿°

Seedance 2.0 æ¨¡å‹æ–°å¢"å…¨èƒ½å‚è€ƒ"åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·ä¸Šä¼  1-5 å¼ å‚è€ƒå›¾ç‰‡æˆ–è§†é¢‘ï¼Œå¹¶åœ¨æç¤ºè¯ä¸­ä½¿ç”¨ @ ç¬¦å·å¼•ç”¨è¿™äº›ç´ æï¼Œå®ç°æ›´å¤æ‚çš„è§†é¢‘ç”Ÿæˆåœºæ™¯ã€‚

## API ç«¯ç‚¹

`POST /v1/videos/generations`

---

## ğŸ“ å‚æ•°è¯´æ˜

### prompt (å¿…å¡«)

è§†é¢‘å†…å®¹æè¿°ï¼Œ**æ”¯æŒä½¿ç”¨ `@å›¾ç‰‡N`ã€`@è§†é¢‘N` è¯­æ³•å¼•ç”¨ç´ æ**ã€‚

ç±»å‹ï¼š`string`

**åŠŸèƒ½**ï¼š
- æè¿°è§†é¢‘çš„æ•´ä½“å†…å®¹å’Œé£æ ¼
- ä½¿ç”¨ `@å›¾ç‰‡N` å¼•ç”¨ç¬¬ N ä¸ªå›¾ç‰‡ç´ æ
- ä½¿ç”¨ `@è§†é¢‘N` å¼•ç”¨ç¬¬ N ä¸ªè§†é¢‘ç´ æ
- ç²¾ç¡®æ§åˆ¶æ¯ä¸ªç´ æåœ¨è§†é¢‘ä¸­çš„ä½¿ç”¨æ–¹å¼

**ç¤ºä¾‹**ï¼š
```
"@å›¾ç‰‡1 ä½œä¸ºèƒŒæ™¯ï¼Œ@å›¾ç‰‡2 ä¸­çš„è§’è‰²ï¼Œæ‰§è¡Œ @è§†é¢‘1 çš„èˆè¹ˆåŠ¨ä½œ"
```

### file_paths (å¯é€‰)

ç»Ÿä¸€ç´ æå‚æ•°ï¼Œæ”¯æŒ 1-5 ä¸ªå›¾ç‰‡æˆ–è§†é¢‘ç´ æã€‚

ç±»å‹ï¼š`Array<string | Object>`

**æ”¯æŒçš„æ ¼å¼**ï¼š

1. **å­—ç¬¦ä¸²æ•°ç»„**ï¼ˆå…¼å®¹æ—§æ¥å£ï¼‰ï¼š
```json
["url1", "url2"]
```
è‡ªåŠ¨è½¬æ¢ä¸ºï¼š`[{type:"image",url:"url1"}, {type:"image",url:"url2"}]`

2. **å¯¹è±¡æ•°ç»„**ï¼ˆæ¨èï¼‰ï¼š
```json
[
  {"type": "image", "url": "https://example.com/image.jpg"},
  {"type": "video", "url": "https://example.com/video.mp4"}
]
```

**URL æ”¯æŒçš„æ ¼å¼**ï¼š
- HTTP/HTTPS URL
- Base64 Data URLï¼š`data:image/jpeg;base64,...`
- æœ¬åœ°æ–‡ä»¶ï¼ˆmultipart/form-data ä¸Šä¼ ï¼‰

### mode (å¯é€‰)

ç”Ÿæˆæ¨¡å¼ã€‚ç±»å‹ï¼š`string`

å¯é€‰å€¼ï¼š
- `"auto"` - è‡ªåŠ¨é€‰æ‹©ï¼ˆé»˜è®¤ï¼‰
  - æœ‰è§†é¢‘ç´ ææˆ–è¶…è¿‡2ä¸ªå›¾ç‰‡ â†’ ä½¿ç”¨å…¨èƒ½å‚è€ƒæ¨¡å¼
  - 1-2ä¸ªå›¾ç‰‡ â†’ ä½¿ç”¨é¦–å°¾å¸§æ¨¡å¼
  - æ— ç´ æ â†’ ä½¿ç”¨çº¯æ–‡æœ¬æ¨¡å¼
- `"first_last_frames"` - å¼ºåˆ¶ä½¿ç”¨é¦–å°¾å¸§æ¨¡å¼
- `"omni_reference"` - å¼ºåˆ¶ä½¿ç”¨å…¨èƒ½å‚è€ƒæ¨¡å¼

### model (å¯é€‰)

æ¨¡å‹åç§°ï¼Œé»˜è®¤ä¸º `jimeng-video-seedance-2.0` æˆ– `seedance_40`ã€‚

### å…¶ä»–å¯é€‰å‚æ•°

- `ratio` - è§†é¢‘å®½é«˜æ¯”ï¼ˆ1:1, 16:9, 9:16 ç­‰ï¼‰
- `resolution` - è§†é¢‘åˆ†è¾¨ç‡ï¼ˆ720p, 1080pï¼‰
- `duration` - è§†é¢‘æ—¶é•¿ï¼ˆ4-15ç§’ï¼‰
- `response_format` - è¿”å›æ ¼å¼ï¼ˆurl, b64_jsonï¼‰

---

## ğŸ”§ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: å…¨èƒ½å‚è€ƒæ¨¡å¼ï¼ˆä½¿ç”¨å¯¹è±¡æ•°ç»„ï¼‰

```bash
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "@å›¾ç‰‡1 å’Œ @å›¾ç‰‡2 åœ¨æ‰“æ¶",
    "model": "seedance_40",
    "mode": "omni_reference",
    "file_paths": [
      {"type": "image", "url": "https://example.com/image1.jpg"},
      {"type": "image", "url": "https://example.com/image2.jpg"}
    ]
  }'
```

### ç¤ºä¾‹ 2: å…¨èƒ½å‚è€ƒæ¨¡å¼ï¼ˆä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„ï¼‰

```bash
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "ä»ç™½å¤©è¿‡æ¸¡åˆ°å¤œæ™š",
    "model": "seedance_40",
    "file_paths": [
      "https://example.com/day.jpg",
      "https://example.com/night.jpg"
    ]
  }'
```

### ç¤ºä¾‹ 3: å…¨èƒ½å‚è€ƒæ¨¡å¼ï¼ˆæ··åˆå›¾ç‰‡å’Œè§†é¢‘ï¼‰

```bash
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "@å›¾ç‰‡1 ä¸­çš„è§’è‰²ï¼Œæ‰§è¡Œ @è§†é¢‘1 çš„èˆè¹ˆåŠ¨ä½œ",
    "model": "seedance_40",
    "mode": "omni_reference",
    "file_paths": [
      {"type": "image", "url": "https://example.com/character.jpg"},
      {"type": "video", "url": "https://example.com/dance.mp4"}
    ]
  }'
```

### ç¤ºä¾‹ 4: ä½¿ç”¨ Base64 ç¼–ç 

```bash
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "@å›¾ç‰‡1 çš„ç‰¹å†™é•œå¤´",
    "model": "seedance_40",
    "mode": "omni_reference",
    "file_paths": [
      {
        "type": "image",
        "url": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBD..."
      }
    ]
  }'
```

**æ³¨æ„**:
- Base64 æ•°æ®å¿…é¡»æ˜¯ Data URL æ ¼å¼ï¼š`data:<mime-type>;base64,<data>`
- å›¾ç‰‡æ”¯æŒï¼š`data:image/jpeg;base64,...`, `data:image/png;base64,...`
- è§†é¢‘æ”¯æŒï¼š`data:video/mp4;base64,...`, `data:video/quicktime;base64,...`
- è§†é¢‘ Base64 æ•°æ®å¯èƒ½ä¼šå¾ˆå¤§ï¼Œå»ºè®®ä½¿ç”¨ URL æˆ–æ–‡ä»¶ä¸Šä¼ æ–¹å¼

### ç¤ºä¾‹ 5: æœ¬åœ°æ–‡ä»¶ä¸Šä¼ 

```bash
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -F "prompt=@å›¾ç‰‡1 å’Œ @å›¾ç‰‡2 åœ¨æ‰“æ¶" \
  -F "model=seedance_40" \
  -F "mode=omni_reference" \
  -F "file_paths=@image1.jpg" \
  -F "file_paths=@image2.jpg"
```

### ç¤ºä¾‹ 6: è‡ªåŠ¨æ¨¡å¼ï¼ˆæ¨èï¼‰

```bash
# ç³»ç»Ÿè‡ªåŠ¨åˆ¤æ–­æ¨¡å¼
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "@å›¾ç‰‡1 ä½œä¸ºèƒŒæ™¯ï¼Œ@å›¾ç‰‡2 ä¸­çš„è§’è‰²è·³èˆ",
    "model": "seedance_40",
    "mode": "auto",
    "file_paths": [
      {"type": "image", "url": "https://example.com/bg.jpg"},
      {"type": "image", "url": "https://example.com/character.jpg"}
    ]
  }'
```

**è‡ªåŠ¨æ¨¡å¼è§„åˆ™**ï¼š
- æœ‰è§†é¢‘ç´ æ â†’ å…¨èƒ½å‚è€ƒæ¨¡å¼
- å›¾ç‰‡è¶…è¿‡ 2 ä¸ª â†’ å…¨èƒ½å‚è€ƒæ¨¡å¼
- å›¾ç‰‡ 1-2 ä¸ª â†’ é¦–å°¾å¸§æ¨¡å¼
- æ— ç´ æ â†’ çº¯æ–‡æœ¬æ¨¡å¼

---

## ğŸ“Š å‚æ•°é™åˆ¶

| å‚æ•° | é™åˆ¶ |
|-----|------|
| `file_paths` | æœ€å¤š 5 ä¸ªç´ æ |
| `prompt` | æ”¯æŒ @å›¾ç‰‡Nã€@è§†é¢‘N è¯­æ³•å¼•ç”¨ |
| å›¾ç‰‡å¤§å° | < 10MB |
| è§†é¢‘å¤§å° | < 50MB |

---

## ğŸ¯ ç´ æå¼•ç”¨è¯­æ³•

### åŸºæœ¬è¯­æ³•

åœ¨ `prompt` ä¸­ä½¿ç”¨ `@å›¾ç‰‡N` æˆ– `@è§†é¢‘N` å¼•ç”¨ç´ æï¼š

```
@å›¾ç‰‡1  - å¼•ç”¨ç¬¬1ä¸ªå›¾ç‰‡ç´ æ
@å›¾ç‰‡2  - å¼•ç”¨ç¬¬2ä¸ªå›¾ç‰‡ç´ æ
@è§†é¢‘1  - å¼•ç”¨ç¬¬1ä¸ªè§†é¢‘ç´ æ
@è§†é¢‘2  - å¼•ç”¨ç¬¬2ä¸ªè§†é¢‘ç´ æ
```

### ä½¿ç”¨ç¤ºä¾‹

#### åœºæ™¯ 1ï¼šæŒ‡å®šç´ æç”¨é€”
```json
{
  "prompt": "@å›¾ç‰‡1 ä½œä¸ºé¦–å¸§ï¼Œ@å›¾ç‰‡2 ä½œä¸ºå°¾å¸§",
  "file_paths": ["start.jpg", "end.jpg"]
}
```

#### åœºæ™¯ 2ï¼šæ··åˆä½¿ç”¨å›¾ç‰‡å’Œè§†é¢‘
```json
{
  "prompt": "@å›¾ç‰‡1 ä¸­çš„è§’è‰²ï¼Œæ‰§è¡Œ @è§†é¢‘1 çš„èˆè¹ˆåŠ¨ä½œ",
  "file_paths": [
    {"type": "image", "url": "character.jpg"},
    {"type": "video", "url": "dance.mp4"}
  ]
}
```

#### åœºæ™¯ 3ï¼šå¤æ‚ç»„åˆ
```json
{
  "prompt": "ä»¥ @å›¾ç‰‡1 ä¸ºèƒŒæ™¯ï¼Œ@å›¾ç‰‡2 ä¸­çš„è§’è‰²ï¼Œæ‰§è¡Œ @è§†é¢‘1 çš„åŠ¨ä½œï¼Œé£æ ¼æ¨¡ä»¿ @è§†é¢‘2",
  "file_paths": [
    {"type": "image", "url": "bg.jpg"},
    {"type": "image", "url": "character.jpg"},
    {"type": "video", "url": "action.mp4"},
    {"type": "video", "url": "style.mp4"}
  ]
}
```

---

## ğŸ”„ å‘åå…¼å®¹æ€§

### æ—§æ ¼å¼ï¼ˆä»ç„¶æ”¯æŒï¼‰

```json
{
  "file_paths": ["url1", "url2"]
}
```

è‡ªåŠ¨è½¬æ¢ä¸ºï¼š
```json
{
  "file_paths": [
    {"type": "image", "url": "url1"},
    {"type": "image", "url": "url2"}
  ]
}
```

### æ–°æ ¼å¼ï¼ˆæ¨èï¼‰

```json
{
  "file_paths": [
    {"type": "image", "url": "url1"},
    {"type": "video", "url": "url2"}
  ]
}
```

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### 1. é€‰æ‹©åˆé€‚çš„è¾“å…¥æ ¼å¼

| åœºæ™¯ | æ¨èæ ¼å¼ | è¯´æ˜ |
|-----|---------|------|
| ç®€å•é¦–å°¾å¸§ | å­—ç¬¦ä¸²æ•°ç»„ | `["url1", "url2"]` |
| æ··åˆå›¾ç‰‡å’Œè§†é¢‘ | å¯¹è±¡æ•°ç»„ | éœ€è¦æŒ‡å®š type |
| æœ¬åœ°æ–‡ä»¶ | multipart/form-data | ç›´æ¥ä¸Šä¼  |
| å°æ–‡ä»¶ | Base64 | è‡ªåŒ…å«ï¼Œæ— å¤–éƒ¨ä¾èµ– |
| å¤§æ–‡ä»¶ | URL | æ•°æ®é‡å° |

### 2. ç¼–å†™ prompt çš„å»ºè®®

#### âœ… å¥½çš„ prompt

```
"@å›¾ç‰‡1 ä½œä¸ºèƒŒæ™¯ï¼Œ@å›¾ç‰‡2 ä¸­çš„è§’è‰²ä»å·¦å‘å³è¡Œèµ°ï¼Œ
é˜³å…‰æ˜åªšï¼Œç”µå½±è´¨æ„Ÿï¼Œ4ç§’"
```

**ç‰¹ç‚¹**ï¼š
- æ˜ç¡®æŒ‡å®šç´ æç”¨é€”
- æè¿°åœºæ™¯ç»†èŠ‚
- æŒ‡å®šé£æ ¼å’Œæ—¶é•¿

#### âŒ ä¸å¥½çš„ prompt

```
"@å›¾ç‰‡1 å’Œ @è§†é¢‘1"
```

**é—®é¢˜**ï¼š
- æ²¡æœ‰è¯´æ˜å¦‚ä½•ä½¿ç”¨ç´ æ
- ç¼ºå°‘åœºæ™¯æè¿°
- æ²¡æœ‰é£æ ¼è¦æ±‚

### 3. ç´ ææ•°é‡å»ºè®®

| ç´ ææ•°é‡ | æ¨èåœºæ™¯ | æ¨¡å¼ |
|---------|---------|------|
| 0 ä¸ª | çº¯æ–‡æœ¬ç”Ÿæˆ | æ–‡ç”Ÿè§†é¢‘ |
| 1-2 ä¸ªå›¾ç‰‡ | é¦–å°¾å¸§ã€å›¾ç”Ÿè§†é¢‘ | é¦–å°¾å¸§æ¨¡å¼ |
| 1-2 ä¸ªå›¾ç‰‡ + 1-2 ä¸ªè§†é¢‘ | å¤æ‚åœºæ™¯ç»„åˆ | å…¨èƒ½å‚è€ƒ |
| 3-5 ä¸ªç´ æ | å¤šç´ ææ··åˆ | å…¨èƒ½å‚è€ƒ |

---

## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•å¼•ç”¨ç´ æï¼Ÿ

**A**: åœ¨ prompt ä¸­ä½¿ç”¨ `@å›¾ç‰‡N` æˆ– `@è§†é¢‘N` è¯­æ³•ï¼Œå…¶ä¸­ N æ˜¯ç´ æçš„åºå·ï¼ˆä»1å¼€å§‹ï¼‰ã€‚

### Q2: æœ€å¤šå¯ä»¥ä½¿ç”¨å¤šå°‘ä¸ªç´ æï¼Ÿ

**A**: æœ€å¤š 5 ä¸ªç´ æï¼Œå¯ä»¥æ··åˆå›¾ç‰‡å’Œè§†é¢‘ã€‚

### Q3: å­—ç¬¦ä¸²æ•°ç»„å’Œå¯¹è±¡æ•°ç»„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A**:
- **å­—ç¬¦ä¸²æ•°ç»„**ï¼š`["url1", "url2"]` - ç®€å•ï¼Œè‡ªåŠ¨è½¬æ¢ä¸ºå›¾ç‰‡ç±»å‹
- **å¯¹è±¡æ•°ç»„**ï¼š`[{type:"image",url:"url1"}, {type:"video",url:"url2"}]` - æ˜ç¡®æŒ‡å®šç±»å‹

æ¨èä½¿ç”¨å¯¹è±¡æ•°ç»„ï¼Œç‰¹åˆ«æ˜¯æ··åˆå›¾ç‰‡å’Œè§†é¢‘æ—¶ã€‚

### Q4: å¦‚ä½•åœ¨æœ¬åœ°æ–‡ä»¶ä¸Šä¼ æ—¶ä½¿ç”¨å…¨èƒ½å‚è€ƒï¼Ÿ

**A**: ä½¿ç”¨ multipart/form-data æ ¼å¼ï¼š
```bash
-F "file_paths=@image1.jpg" \
-F "file_paths=@image2.jpg" \
-F "prompt=@å›¾ç‰‡1 å’Œ @å›¾ç‰‡2 åœ¨æ‰“æ¶"
```

### Q5: Base64 æ•°æ®å¤ªå¤§æ€ä¹ˆåŠï¼Ÿ

**A**:
- å¯¹äºå›¾ç‰‡ï¼šå»ºè®®ä½¿ç”¨ URL æˆ–æ–‡ä»¶ä¸Šä¼ 
- å¯¹äºè§†é¢‘ï¼šå¼ºçƒˆå»ºè®®ä½¿ç”¨ URL æˆ–æ–‡ä»¶ä¸Šä¼ 
- Base64 ç¼–ç ä¼šä½¿æ•°æ®å¢å¤§çº¦ 33%

### Q6: å…¼å®¹æ—§ç‰ˆæœ¬å—ï¼Ÿ

**A**: å®Œå…¨å…¼å®¹ï¼æ—§çš„å­—ç¬¦ä¸²æ•°ç»„æ ¼å¼ä»ç„¶æ”¯æŒï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è½¬æ¢ä¸ºæ–°æ ¼å¼ã€‚

---

## ğŸ”§ é”™è¯¯å¤„ç†

### å¸¸è§é”™è¯¯

| é”™è¯¯ | åŸå›  | è§£å†³æ–¹æ³• |
|-----|------|---------|
| `ç´ æè¶…è¿‡5ä¸ª` | file_paths æ•°é‡è¶…è¿‡é™åˆ¶ | å‡å°‘ç´ ææ•°é‡åˆ°5ä¸ªä»¥å†… |
| `ç´ æä¸Šä¼ å¤±è´¥` | ç½‘ç»œé—®é¢˜æˆ–æ–‡ä»¶è¿‡å¤§ | æ£€æŸ¥ç½‘ç»œæˆ–å‡å°æ–‡ä»¶å¤§å° |
| `å‚æ•°éªŒè¯å¤±è´¥` | å‚æ•°æ ¼å¼ä¸æ­£ç¡® | æ£€æŸ¥å‚æ•°ç±»å‹å’Œå–å€¼èŒƒå›´ |

### é”™è¯¯å“åº”ç¤ºä¾‹

```json
{
  "error": {
    "message": "æœ€å¤šåªèƒ½ä¸Šä¼ 5ä¸ªç´ ææ–‡ä»¶",
    "type": "validation_error"
  }
}
```

---

## ğŸ“š æ›´å¤šèµ„æº

- **å®Œæ•´ API æ–‡æ¡£**: [seedance-40-api-guide.md](./seedance-40-api-guide.md)
- **ç”¨æˆ·æŒ‡å—**: [user-guide.md](./user-guide.md)
- **å‚æ•°åˆå¹¶è¯´æ˜**: [parameter-merge-summary.md](./parameter-merge-summary.md)
- **ä¸»æ–‡æ¡£**: [README.CN.md](../README.CN.md)

---

## ğŸ“„ è®¸å¯è¯

GPL v3 License - è¯¦è§ [LICENSE](../LICENSE) æ–‡ä»¶
